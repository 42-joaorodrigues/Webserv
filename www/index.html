<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebServ - Home</title>
    <link rel="stylesheet" href="css/common.css">
</head>
<body>
    <div class="particles-background">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <!-- Background Music Player -->
    <div class="music-player">
        <button id="musicToggle" class="music-button">
            <span class="music-icon">üéµ</span>
            <span class="music-text">Music</span>
        </button>
        <audio id="backgroundMusic" loop preload="auto">
            <source src="music/background.mp3" type="audio/mpeg">
            <source src="music/background.ogg" type="audio/ogg">
            <!-- Fallback for browsers that don't support the audio element -->
            Your browser does not support the audio element.
        </audio>
    </div>

    <div class="main-container">
        <nav class="navigation">
            <a href="/" class="nav-button active-nav">Home</a>
            <a href="/team/" class="nav-button">Team</a>
            <a href="/about/" class="nav-button">About</a>
            <a href="/tests/" class="nav-button">Tests</a>
        </nav>
        
        <main class="content">
            <section id="home" class="section active">
                <h1 class="main-title">WebServ</h1>
                <p class="subtitle">made with ‚ù§Ô∏è by<br>Joao, Fabio and Naiqing</p>
            </section>
        </main>
    </div>
    
    <script>
        // Background Music Controller
        const musicToggle = document.getElementById('musicToggle');
        const backgroundMusic = document.getElementById('backgroundMusic');
        const musicIcon = document.querySelector('.music-icon');
        const musicText = document.querySelector('.music-text');
        let isPlaying = false;

        musicToggle.addEventListener('click', function() {
            if (isPlaying) {
                backgroundMusic.pause();
                musicIcon.textContent = 'üéµ';
                musicText.textContent = 'Music';
                musicToggle.classList.remove('playing');
                isPlaying = false;
            } else {
                backgroundMusic.play().then(() => {
                    musicIcon.textContent = 'üé∂';
                    musicText.textContent = 'Playing';
                    musicToggle.classList.add('playing');
                    isPlaying = true;
                }).catch(error => {
                    console.log('Audio playback failed:', error);
                });
            }
        });

        // Set volume to a comfortable level
        backgroundMusic.volume = 0.3;

        // Auto-pause when page loses focus (optional)
        document.addEventListener('visibilitychange', function() {
            if (document.hidden && isPlaying) {
                backgroundMusic.pause();
            } else if (!document.hidden && isPlaying) {
                backgroundMusic.play();
            }
        });
    </script>
</body>
</html>